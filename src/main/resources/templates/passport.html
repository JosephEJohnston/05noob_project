<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="UTF-8">
        <title>注册</title>
        <link rel="stylesheet" href="../static/lib/bootstrap/4.5.0/css/bootstrap.min.css"
              th:href="@{/lib/bootstrap/4.5.0/css/bootstrap.min.css}">
        <link rel="stylesheet" href="../static/css/font.css" th:href="@{/css/font.css}">
        <link rel="stylesheet" href="../static/css/me.css" th:href="@{/css/me.css}">
        <script src="../static/js/jquery-3.4.1.min.js" th:src="@{/js/jquery-3.4.1.min.js}"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
        <script src="../static/lib/bootstrap/4.5.0/js/bootstrap.min.js"
                th:src="@{/lib/bootstrap/4.5.0/js/bootstrap.min.js}"></script>
        <script src="../static/lib/axios/dist/axios.min.js"
                th:src="@{/lib/axios/dist/axios.min.js}"></script>
    </head>
    <body>
        <div class="navbar navbar-light bg-secondary" style="height: 70px;">
            <a class="navbar-brand text-light" href="#" style="margin-left: 239px">豆瓣</a>
        </div>


        <div class="container" style="margin-top: 124px">
            <div class="row" style="height: 584px;">
                <!-- 左边 -->
                <div class="col-6 col-sm-6 col-md-6 col-lg-6 col-xl-6">
                    <img src="../static/img/p1.jpg" alt="#" style="width: 100%; height: 85%"
                         th:src="@{/img/p1.jpg}">
                </div>

                <!-- 右边 -->
                <!--<div class="col-6 col-sm-6 col-md-6 col-lg-6 col-xl-6">-->
                <div class="col-5 col-sm-5 col-md-5 col-lg-5 col-xl-5">
                    <div class="container border">
                        <!-- tab 切换样式 -->
                        <ul class="nav nav-tabs nav-fill justify-content-center col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12" id="tabs">
                            <li class="nav-item"><a class="nav-link text-secondary" href="#register" data-toggle="tab">注册</a></li>
                            <li class="nav-item"><a  class="nav-link text-secondary active" href="#login" data-toggle="tab">登录</a></li>
                        </ul>

                        <div class="tab-content">
                            <!-- 注册表单 -->
                            <form id="register" class="tab-pane" action="/register" method="post">
                                <hr>
                                <div class="form-group">
                                    <label for="registerUsername"></label>
                                    <input type="text" class="form-control" name="username" id="registerUsername" placeholder="用户名">
                                    <!--<small id="usernameHelp" class="form-text text-muted">~</small>-->
                                </div>
                                <div class="form-group">
                                    <input type="password" class="form-control" name="password" placeholder="密码">
                                </div>
                                <button id="register-btn" type="submit" class="btn btn-secondary btn-block justify-content-center">
                                    注册
                                </button>
                                <hr>
                            </form>

                            <!-- 登录表单 -->
                            <form id="login" class="tab-pane active" action="/login" method="post">
                                <hr>
                                <div class="form-group">
                                    <label for="username"></label>
                                    <input type="text" class="form-control" id="username" name="username" placeholder="用户名">
                                    <!--<small id="usernameHelp" class="form-text text-muted">~</small>-->
                                </div>
                                <div class="form-group">
                                    <input type="password" class="form-control" id="password" name="password" placeholder="密码">
                                </div>
                                <button id="login-btn" type="submit" class="btn btn-secondary btn-block justify-content-center">
                                    登录
                                </button>
                                <hr>
                            </form>

                        </div>
                    </div>
                </div>
            </div>
        </div>


        <script>
            // 注册，已弃用
            /*$("#register-btn").click(function () {
                $.ajax({
                    type: "POST",
                    url: "/registers",
                    contentType: "application/json",
                    data: JSON.stringify({
                        "username": $("#inputUsername").val(),
                        "password": $("#inputPassword").val(),
                    }),
                    dataType: "json",
                    success: function () {
                        window.location.href='/main';
                    }
                });
            });*/

            // 登录，已弃用
            /*$("#login-btn").click(function () {
                $.ajax({
                    type: "POST",
                    url: "/loginInfo",
                    contentType: "application/json",
                    data: JSON.stringify({
                        "username": $("#loginUsername").val(),
                        "password": $("#loginPassword").val(),
                    }),
                    dataType: "json",
                    success: function (result) {
                        // 前端似乎没法做到带请求头的跳转
                        axios({
                            method: 'get',
                            url: '/main',
                            headers: { 'Authorization': result.data }
                        });
                    }
                });
            })*/
        </script>
    </body>


</html>
